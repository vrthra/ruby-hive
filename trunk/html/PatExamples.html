<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link type="text/css" rel="stylesheet" href="hive.css" >
    <title>hive</title>
</head>
<body>
    <p class="head">
<table valign='top'><tr><td><a href="/Hive.html"><img src="hive.png" alt="hive" width='50' height='50' border='0' /></a></td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="http://code.google.com/p/ruby-hive/">Code</a> |<a href="FrontPage.html">FrontPage</a> |<a href="HiveTraits.html">HiveTraits</a> </td><tr></table><br/>
    </p>
    <p class="content">
<a href="PatExamples.html">PatExamples</a><br/><br/><br/><h3>assign.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic cli'<br/><br/> <a href="Cli.html">take Cli</a><br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/><br/> &lt;[:$line => /^$/<br/> /(1+) (1)/<br/> /(2+) (2+)/<br/> /(3+) (3+)/<br/> ]<br/><br/> matches.keys.each {|m|<br/>&nbsp;&nbsp;&nbsp;&nbsp;puts matches[m][1][2]<br/> }<br/><br/> matches.keys.each {|m|<br/>&nbsp;&nbsp;&nbsp;&nbsp;puts matches[m][1][1]<br/> }<br/><br/> &lt;[<br/> 44444444<br/> 55555555<br/> ]<br/></td></tr></table><br/><h3>blocks.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic file conn'<br/> <br/> <a href="FileConn.html">take FileConn</a>,'input/file', 'w' do<br/> &gt;[<br/> 1111111 1x<br/> 222222 22x<br/> 33333 333x<br/> ]<br/> end<br/> <a href="FileConn.html">take FileConn</a>,'input/file', 'r' do<br/> &lt;[<br/> 1111111 1x<br/> 222222 22x<br/> 33333 333x<br/> ]<br/> end<br/></td></tr></table><br/><h3>cli.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic cli'<br/> <br/> <a href="Cli.html">take Cli</a><br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/> &lt;[:$line =&gt; /^$/<br/> 1111111 1<br/> 222222 22<br/> 33333 333<br/> ]<br/> &lt;[<br/> 44444444<br/> 55555555<br/> ]<br/> <br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/> &lt;[:when? =&gt; /abc/<br/> aaaaaaa a<br/> ]<br/> &lt;[:when? =&gt; /111/<br/> 1111111 1<br/> ]<br/> <br/> if false<br/> <br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/> &lt;[:when? => /111/<br/> aaaaaaa a<br/> ]<br/> &lt;[:when? =&gt; /abc/<br/> 1111111 1<br/> ]<br/> end<br/></td></tr></table><h3>connect.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic connect'<br/> <br/> puts "Connect requires the server name to be specified because of stupid blr03 domain system"<br/> puts "It also requires modification of obj.conf for allowing all ports thru on connect://"<br/> <br/> @server.start<br/> <br/> &gt;[<br/> CONNECT #{@options.server_host_port} HTTP/1.0<br/> <br/> ]<br/> &lt;[:$line =&gt; /^\r\n$/<br/> HTTP/1.1 200 OK<br/> Server: Sun-Java-System-Web-Proxy-Server/4.0<br/> /Date: .*/<br/> Connection: close<br/> <br/> ]<br/> #now upgrade to ssl<br/> info "Upgrading to SSL"<br/> <a href="SSLProxyClientConn.html">take SSLProxyClientConn</a>,conn<br/> <br/> &gt;[<br/> GET /index.html HTTP/1.0<br/> <br/> ]<br/> <br/> #it is being sent by us so no CRLF<br/> &lt;[:$line=&gt;/^$/<br/> HTTP/1.0 200 OK<br/> Server: PAT/1.0<br/> Content-type: text/html<br/> <br/> ]<br/> <br/> &lt;[:$line=&gt;/^$/, :strict =&gt; true, :seq =&gt; true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/> <br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/> <br/><br/></td></tr></table><h3>servers/connect.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic connect'<br/> puts "binding on: #{@options.server_port}"<br/> <a href="SSLServerConn.html">take SSLServerConn</a>,@options.server_port<br/> <br/> &lt;[:$line =&gt; /^$/<br/> /GET \/index\.html HTTP\/1.0/<br/> <br/> ]<br/> <br/> &gt;[<br/> HTTP/1.0 200 OK<br/> Server: PAT/1.0<br/> Content-type: text/html<br/> <br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> <br/> ]<br/><br/></td></tr></table><br/><h3>drb.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic drb firing http requests'<br/> <br/> puts "DRB needs drb://vayavyam machine up."<br/> #machines = [ "vayavyam", "vaishnavam", "draco"]<br/> machines = [ "vayavyam"]<br/> <br/> <br/> c = HttpConn.new('my.machine.com')<br/> machines.each do |machine|<br/> <a href="Machine.html">take Machine</a>,machine, c do<br/> <br/> &gt;[<br/> GET / HTTP/1.0<br/> <br/> ]<br/> <br/> <br/> &lt;[:$line=&gt;/^\r\n$/<br/> HTTP/1.1 200 OK<br/> Content-type: text/html<br/> /Content-length: .*/<br/> Server: Sun-Java-System-Web-Proxy-Server/4.0.4<br/> /Date: .*/<br/> /Last-modified: .*/<br/> Accept-ranges: bytes<br/> Connection: close<br/> <br/> ]<br/> <br/> <[:strict=&gt;true, :seq=&gt;true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head><br/>&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"|/><br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="195,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <f|rame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/> end<br/> end<br/><br/></td></tr></table><h3>expect.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> require 'pty'<br/> require 'expect'<br/> <br/> fnames = []<br/> PTY.spawn("telnet -l root agneyam.india.sun.com") do |read_pipe,write_pipe,pid|<br/>&nbsp;&nbsp;&nbsp;&nbsp; write_pipe.sync = true<br/> <br/>&nbsp;&nbsp;&nbsp;&nbsp; $expect_verbose = false<br/>&nbsp;&nbsp;&nbsp;&nbsp; read_pipe.expect(/^Password.*: /) do<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write_pipe.print "abc123\n"<br/>&nbsp;&nbsp;&nbsp;&nbsp; end<br/> <br/>&nbsp;&nbsp;&nbsp;&nbsp; read_pipe.expect(/agneyam#/) do<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write_pipe.print "uname -a\n"<br/>&nbsp;&nbsp;&nbsp;&nbsp; end<br/>&nbsp;&nbsp;&nbsp;&nbsp; read_pipe.expect(/[^#]+#/) do |output|<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for x in output[0].split("\n")<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #SunOS agneyam 5.10 Generic sun4u sparc SUNW,Sun-Blade-1000<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if x = /^([^ ]+) ([^ ]+) (.*)$/ then<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; puts "#{$2} running #{$1}"<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br/>&nbsp;&nbsp;&nbsp;&nbsp; end<br/>&nbsp;&nbsp;&nbsp;&nbsp; begin<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; write_pipe.print "quit\n"<br/>&nbsp;&nbsp;&nbsp;&nbsp; rescue<br/>&nbsp;&nbsp;&nbsp;&nbsp; end<br/> end<br/> <br/> raise "failed for uname"<br/><br/></td></tr></table><br/><h3>file.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic file conn'<br/> <br/> <a href="FileConn.html">take FileConn</a>,'input/file', 'w'<br/> &gt;[<br/> 1111111 1<br/> 222222 22<br/> 33333 333<br/> ]<br/></td></tr></table><br/><h3>ftpfetch.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic drb firing http requests'<br/> <br/> <a href="FtpFetchList.html">take FtpFetchList</a>,:host => 'my.machine.com', :user => 'webproxy', :pass => 'webproxy' do<br/> &gt;[<br/> docs/netdb/input<br/> ]<br/> <br/> &lt;[<br/> inventory.xml<br/> file<br/> bib.xml<br/> ]<br/> end<br/> <br/> <a href="FtpFetch.html">take FtpFetch</a>,:host =&gt; 'my.machine.com', :user =&gt; 'webproxy', :pass =&gt; 'webproxy' do<br/> &gt;[ :type => 'bin'<br/> docs/index.html input/index.html<br/> ]<br/> <br/> &lt;[<br/> input/index.html<br/> ]<br/> end<br/> <br/> <a href="FtpFetch.html">take FtpFetch</a>,:host =&gt; 'my.machine.com', :user =&gt; 'webproxy', :pass =&gt; 'webproxy' do<br/> &gt;[ :type =&gt; 'text'<br/> docs/index.html input/index.html<br/> ]<br/> <br/> &lt;[<br/> input/index.html<br/> ]<br/> end<br/><br/></td></tr></table><br/><h3>ftpretr.pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic ftp retrieve'<br/> @server.start<br/> &gt;[<br/> GET ftp://#{@options.server_host_port}/retr/#{Time.now.to_i} HTTP/1.0<br/> <br/> ]<br/> &lt;[:$line=&gt;/^\r\n$/<br/> HTTP/1.1 200 OK<br/> Server: Sun-Java-System-Web-Proxy-Server/4.0<br/> /Date: .* GMT/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> Via: 1.1 proxy-server1<br/> Connection: close<br/> ]<br/> <br/> &lt;[:$line=&gt;/^\r\n$/<br/> my file<br/> ]<br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/><br/></td></tr></table><br/><h3>servers/ftpretr.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> require 'patlib'<br/> include PatLib<br/> cr '0'<br/> title 'generic ftp retrieve'<br/> <br/> # passive port = l1*256 + l2<br/> @l1 = 204<br/> @l2 = 96<br/> @passive_port = @l1 * 256 + @l2<br/> <br/> @ip = ip_addr()<br/> <br/> &gt;[<br/> 220 #{@options.server_host} FTP server (Version 6.00LS) ready.<br/> ]<br/> <br/> &lt;[:$till=>'anonymous'<br/> USER anonymous<br/> ]<br/> &gt;[<br/> 331 Guest login ok, send your email address as password.<br/> ]<br/> <br/> &lt;[:$till=&gt; '@'<br/> PASS SunProxy@<br/> ]<br/> &gt;[<br/> 230 Guest login ok, access restrictions apply.<br/> ]<br/> <br/> &lt;[:$till=&gt;'SYST'<br/> SYST<br/> ]<br/> &gt;[<br/> 215 UNIX Type: L8 Version: BSD-199506<br/> ]<br/> <br/> &lt;[:$till=&gt;'PASV'<br/> PASV<br/> ]<br/> info "ftpretr:using passive port #{@passive_port}"<br/> <br/> @server.start :port => @passive_port, :tcase => 'examples/passivefile'<br/> <br/> &gt;[<br/> 227 Entering Passive Mode (#{@ip},#{@l1},#{@l2})<br/> ]<br/> <br/> <br/> &lt;[:$till=&gt;'I'<br/> /TYPE I/<br/> ]<br/> &gt;[<br/> 200 Type set to I.<br/> ]<br/> <br/> &lt;[:$till=&gt;/RETR.*\n$/<br/> /RETR .*/<br/> ]<br/> <br/> &gt;[<br/> 150 Opening BINARY mode data connection for '1234567890' (368 bytes) .<br/> ]<br/> <br/> <br/> &gt;[<br/> 226 Transfer complete.<br/> ]<br/> <br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/><br/></td></tr></table><br/><h3>servers/passivefile.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> #return the contents of a file. as soon as a connection is<br/> #established<br/> <br/> &gt;[<br/> my file<br/> <br/> ]<br/><br/></td></tr></table><br/><h3>get.pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic get'<br/> <br/> @server.start<br/> &lt;[<br/> /exec/<br/> ]<br/> puts "Using host:#{@options.server_host_port}"<br/> puts "Using proxy:#{@options.proxy_host_port}"<br/> &gt;[<br/> GET http://#{@options.server_host_port}/#{Time.now.to_i} HTTP/1.0<br/> <br/> ]<br/> <br/> &lt;[:$line =&gt; /^\r\n$/<br/> HTTP/1.1 200 OK<br/> Content-length: 437<br/> Content-type: text/html<br/> Server: PAT/1.0<br/> /Date: .*/<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/> /Via: 1.1 .*/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> Connection: close<br/> <br/> ]<br/> &lt;[:strict =&gt; true, :seq =&gt; true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/> <br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/><br/></td></tr></table><br/><h3>servers/get.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic get request'<br/> <br/> &lt;[:$line=&gt;/^\r\n$/<br/> /GET \/[0-9]+ HTTP\/1.1/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> /Host: .*/<br/> /Via: 1.0 .*/<br/> Connection: keep-alive<br/> <br/> ]<br/> &gt;[<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> XDate: Sun, 07 May 2006 00:13:46 GMT<br/> Content-length: 437<br/> Content-type: text/html<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/> <br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <title>Phoenix</title><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/><br/></td></tr></table><br/><h3>httpfetch.pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic drb firing http requests'<br/> <br/> <a href="Httpfetch.html">take Httpfetch</a>,'my.machine.com'<br/> &gt;[<br/> /netdb/input/ /tmp/input<br/> ]<br/> <br/> #&lt;[<br/> #/tmp/input/<br/> #/tmp/input/bib.xml<br/> #/tmp/input/file.xml<br/> #/tmp/input/inventory.xml<br/> #/tmp/input/mexico.out<br/> #]<br/><br/></td></tr></table><br/><h3>httpfetchdir.pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic http dir request'<br/> <br/> <a href="Httpfetchdir.html">take Httpfetchdir</a>,'my.machine.com'<br/> &gt;[<br/> /pat/<br/> ]<br/> <br/> &lt;[<br/> input/<br/> ]<br/><br/></td></tr></table><br/><h3>keepalive.pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic keepalive'<br/> <br/> @server.start<br/> <br/> &gt;[<br/> GET http://#{@options.server_host_port}/keepalive/1/#{Time.now.to_i} HTTP/1.1<br/> Host: #{@options.server_host_port}<br/> Connection: keep-alive<br/> <br/> ]<br/> <br/> &lt;[:$line=&gt;/^\r\n$/<br/> HTTP/1.1 200 OK<br/> /Date: .*/<br/> Content-length: 438<br/> Content-type: text/html<br/> Server: PAT/1.0<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/> /Via: 1.1 .*/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> <br/> ]<br/> #we lost one CR in the delim<br/> &lt;[:$line=&gt;/^\r\n$/, :strict =&gt; true, :seq =&gt; true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/> <br/> #info "going for the second request"<br/> <br/> >[<br/> GET http://#{@options.server_host_port}/keepalive/2/#{Time.now.to_i} HTTP/1.1<br/> Host: #{@options.server_host_port}<br/> Connection: keep-alive<br/> <br/> ]<br/> &lt;[:$line=&gt;/^\r\n$/<br/> HTTP/1.1 200 OK<br/> /Date: .*/<br/> Content-length: 438<br/> Content-type: text/html<br/> Server: PAT/1.0<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/> /Via: 1.1 .*/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> ]<br/> <[:$line=>/^\r\n$/, :strict => true, :seq => true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> <br/> ]<br/> <br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/><br/></td></tr></table><br/><h3>servers/keepalive.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic keepalive'<br/> &lt;[:$line=&gt;/^\r\n$/<br/> /GET \/keepalive\/1\/[0-9]+ HTTP\/1.1/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> /Host: .*/<br/> /Via: 1.1 .*/<br/> Connection: keep-alive<br/> <br/> ]<br/> #Date: Sun, 07 May 2006 00:13:46 GMT|<br/> &gt;[<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Content-length: 438<br/> Content-type: text/html<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/> <br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> <br/> ]<br/> <br/> info "waiting for second request"<br/> <br/> &lt;[:$line=&gt;/^\r\n$/<br/> /GET \/keepalive\/2\/[0-9]+ HTTP\/1.1/<br/> /Host: .*/<br/> Connection: keep-alive<br/> <br/> ]<br/> #Date: Sun, 07 May 2006 00:13:46 GMT|<br/> &gt;[<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Content-length: 438<br/> Content-type: text/html<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/> <br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> <br/> ]<br/><br/></td></tr></table><br/><h3>snmp.pat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic snmp'<br/> <a href="SnmpClientConn.html">take SnmpClientConn</a>,@options.proxy_host, ["PROXY-MIB"]<br/> #===========================================<br/> &gt;[<br/> proxyInstanceId.1<br/> ]<br/> &lt;[<br/> proxy-server1<br/> ]<br/> <br/> &gt;[<br/> 1.3.6.1.4.1.42.1.40.1.1.2.1<br/> ]<br/> &lt;[<br/> proxy-server1<br/> ]<br/> <br/> #===========================================<br/> &gt;[<br/> proxyInstanceDescription.1<br/> ]<br/> &lt;[<br/> agneyam<br/> ]<br/> <br/> &gt;[<br/> 1.3.6.1.4.1.42.1.40.1.1.4.1<br/> ]<br/> &lt;[<br/> agneyam<br/> ]<br/><br/></td></tr></table><br/><h3>socks4.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> <a href="Socks4ProxyClientConn.html">take Socks4ProxyClientConn</a>,@options.proxy_host, @options.server_host_port<br/> <br/> <br/> @server.start<br/> <br/> &gt;[<br/> GET /index.html HTTP/1.0<br/> <br/> ]<br/> <br/> #expect something back.<br/> <br/> &lt;[:$line=&gt;/^$/<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Content-type: text/html<br/> <br/> ]<br/> &lt;[:strict =&gt; true, :seq =&gt; true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/> <br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/> <br/> <br/> #important info<br/> #Needs /etc/resolv.conf in solaris to run<br/> #cut---here---<br/> #search&nbsp;&nbsp;india.sun.com red.iplanet.com sfbay.sun.com east.sun.com<br/> #nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.18.56.149<br/> #nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;129.158.227.31<br/> #nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blrshare<br/> #nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;utility<br/> #end----------<br/><br/></td></tr></table><br/><h3>servers/socks4.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic socks4'<br/> &lt;[:$line=&gt;/^\r\n$/<br/> /GET \/index\.html HTTP\/1.0/<br/> <br/> ]<br/> &gt;[<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Content-type: text/html<br/> <br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/><br/></td></tr></table><br/><h3>socks5.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic socks5'<br/> <a href="Socks5ProxyClientConn.html">take Socks5ProxyClientConn</a>,@options.proxy_host, @options.server_host_port<br/> <br/> @server.start<br/> <br/> &gt;[<br/> GET /index.html HTTP/1.0<br/> <br/> ]<br/> <br/> #expect something back.<br/> <br/> &lt;[:$line=&gt;/^$/<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Content-type: text/html<br/> <br/> ]<br/> &lt;[:strict => true, :seq => true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/> <br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/><br/></td></tr></table><br/><h3>servers/socks5.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic socks5'<br/> &lt;[:$line=>/^\r\n/<br/> /GET \/index\.html HTTP\/1.0/<br/> <br/> ]<br/> &gt;[<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Content-type: text/html<br/> <br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp; &lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/><br/></td></tr></table><br/><h3>telnet.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> <a href="PConn.html">take PConn</a>,"telnet vayavyam.india.sun.com"<br/> &lt;[:$line=&gt;/Escape/<br/> /Trying.*/<br/> /Connected.*/<br/> /Escape.*/<br/> ]<br/> <br/> #readtill :exp =&gt; /login:/<br/> <br/> &lt;[:$till=&gt;'login:'<br/> /login:/<br/> ]<br/> &gt;[<br/> me<br/> ]<br/> <br/> &lt;[:$len =&gt; 1000 , :$till =&gt; /Password:/<br/> /Password:/<br/> ]<br/> <br/> &gt;[<br/> mexico <br/> ]<br/> <br/> &gt;[<br/> ls<br/> exit<br/> ]<br/> <br/> &lt;[<br/> /GNUStep/<br/> ]<br/> <br/><br/></td></tr></table><br/><h3>use.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> title 'generic use'<br/> <br/> use 'examples/used'<br/><br/></td></tr></table><br/><h3>used.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic cli'<br/> <br/> <a href="Cli.html">take Cli</a><br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/> <[:$line =&gt; /^$/<br/> 1111111 1<br/> 222222 22<br/> 33333 333<br/> ]<br/> &lt;[<br/> 44444444<br/> 55555555<br/> ]<br/> <br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/> &lt;[:when? =&gt; /abc/<br/> aaaaaaa a<br/> ]<br/> &lt;[:when? =&gt; /111/<br/> 1111111 1<br/> ]<br/> <br/> if false<br/> <br/> &gt;[<br/> cat input/mexico.out<br/> ]<br/> &lt;[:when? =&gt; /111/<br/> aaaaaaa a<br/> ]<br/> <[:when? =&gt; /abc/<br/> 1111111 1<br/> ]<br/> <br/> end<br/><br/></td></tr></table><br/><h3>xml.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic xmlreader'<br/> <br/> <a href="XmlClientConn.html">take XmlClientConn</a>,'input/bib.xml'<br/> <br/> &gt;[<br/> /bibliography/biblioentry[@id='FHIW13C-1234']/author<br/> ]<br/> &lt;[<br/> &lt;author&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;firstname&gt;Godfrey&lt;/firstname&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;surname&gt;Vesey&lt;/surname&gt;<br/> &lt;/author&gt;<br/> ]<br/> <br/> &gt;[<br/> //author<br/> ]<br/> <br/> &lt;[:strict =&gt; true,&nbsp;&nbsp;:seq =&gt; true<br/> &lt;author&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;firstname&gt;Godfrey&lt;/firstname&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;surname&gt;Vesey&lt;/surname&gt;<br/> &lt;/author&gt;<br/> &lt;author&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;firstname&gt;Geoffrey&lt;/firstname&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;surname&gt;Madell&lt;/surname&gt;<br/> &lt;/author&gt;<br/> &lt;author&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;firstname&gt;Brian&lt;/firstname&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;surname&gt;Garrett&lt;/surname&gt;<br/> &lt;/author&gt;<br/> &lt;author&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;firstname&gt;John&lt;/firstname&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;surname&gt;Perry&lt;/surname&gt;<br/> &lt;/author&gt;<br/> ]<br/> <br/> &gt;[<br/> //publisher<br/> ]<br/> <br/> &lt;[<br/> &lt;publisher&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;publishername&gt;Cornell University Press&lt;/publishername&gt;<br/> &lt;/publisher&gt;<br/> &lt;publisher&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;publishername&gt;Edinburgh University Press&lt;/publishername&gt;<br/> &lt;/publisher&gt;<br/> &lt;publisher&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;publishername&gt;Routledge&lt;/publishername&gt;<br/> &lt;/publisher&gt;<br/> &lt;publisher&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;publishername&gt;Hackett&lt;/publishername&gt;<br/> &lt;/publisher&gt;<br/> ]<br/><br/></td></tr></table><br/><h3>post.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'> cr '0'<br/> title 'generic get'<br/><br/> #@options.server_host_port = 'agneyam.india.sun.com:8882'<br/> @server.start<br/> &lt;[<br/> /exec/<br/> ]<br/> puts "Using host:#{@options.server_host_port}"<br/> puts "Using proxy:#{@options.proxy_host_port}"<br/> &gt;[<br/> POST http://#{@options.server_host_port}/#{Time.now.to_i} HTTP/1.0<br/> Content-length: 14<br/><br/> 1111111111<br/><br/> ]<br/><br/> &lt;[:$line => /^\r\n$/<br/> HTTP/1.1 200 OK<br/> Content-length: 437<br/> Content-type: text/html<br/> Server: PAT/1.0<br/> /Date: .*/<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> Accept-ranges: bytes<br/> Connection: close<br/> /Via.*/<br/><br/> ]<br/><br/> &lt;[:strict => true, :seq => true<br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/frameset&gt;<br/> &lt;/html&gt;<br/> ]<br/><br/> @server.stop<br/> &lt;[<br/> /success/<br/> ]<br/></td></tr></table><h3>servers/post.pat</h3><table class='code' style='border-spacing: 10px;width:100%' ><tr><td class='code'><br/> cr '0'<br/> title 'generic post request'<br/><br/> &lt;[:$line=>/^\r\n$/<br/> /POST \/[0-9]+ HTTP\/1.1/<br/> Proxy-agent: Sun-Java-System-Web-Proxy-Server/4.0<br/> /Host: .*/<br/> /Via: 1.0 .*/<br/> Connection: keep-alive<br/> ]<br/><br/> &lt;[:$line=>/^\r\n$/<br/> /1+/<br/> ]<br/><br/> &gt;[<br/> HTTP/1.1 200 OK<br/> Server: PAT/1.0<br/> Date: Sun, 07 May 2006 00:13:46 GMT<br/> Content-length: 437<br/> Content-type: text/html<br/> Last-modified: Wed, 22 Mar 2006 16:09:50 GMT<br/> Etag: "1a7-442176ce"<br/> Accept-ranges: bytes<br/><br/> &lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Phoenix&lt;/title&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;link rel="SHORTCUT ICON" href="phoenix.png"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&lt;frameset rows="170,*" frameborder="no" border="0"&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;frame src="header.html" name="header" frameborder="no" scrolling="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;frame src="content.html" name="content" frameborder="no" noresize marginwidth="0" marginheight="0"/&gt;<br/>&nbsp;&nbsp; &lt;/frameset&gt;<br/> &lt;/html&gt;<br/><br/> ]<br/><br/></td></tr></table>
    </p>
</body>
</html>
